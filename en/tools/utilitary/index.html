
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-8.5.10">
    
    
      
        <title>Auxiliary scripts - Harmonization Compendium Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/static/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="Blue-Grey" data-md-color-accent="Blue-Grey">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#auxiliary-scripts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Harmonization Compendium Documentation" class="md-header__button md-logo" aria-label="Harmonization Compendium Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 2v2h1v14a4 4 0 0 0 4 4 4 4 0 0 0 4-4V4h1V2H7m4 14c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m2-4c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m1-5h-4V4h4v3Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Harmonization Compendium Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Auxiliary scripts
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="Blue-Grey" data-md-color-accent="Blue-Grey"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
          
        
      </form>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="../../../tools/utilitary/" hreflang="pt" class="md-select__link">
                    Brazilian Portuguese
                  </a>
                </li>
              
                <li class="md-select__item">
                  <a href="./" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/brazil-data-cube/compendium-harmonization" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    brazil-data-cube/compendium-harmonization
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Harmonization Compendium Documentation" class="md-nav__button md-logo" aria-label="Harmonization Compendium Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 2v2h1v14a4 4 0 0 0 4 4 4 4 0 0 0 4-4V4h1V2H7m4 14c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m2-4c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m1-5h-4V4h4v3Z"/></svg>

    </a>
    Harmonization Compendium Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/brazil-data-cube/compendium-harmonization" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    brazil-data-cube/compendium-harmonization
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Compendium Reference</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Compendium Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Compendium Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../libraries/" class="md-nav__link">
        Software libraries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../processing/" class="md-nav__link">
        Processing scripts
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Auxiliary scripts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Auxiliary scripts
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#calculate-checksum-and-github-asset-upload" class="md-nav__link">
    Calculate Checksum and GitHub Asset Upload
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-toolkit" class="md-nav__link">
    Example toolkit
  </a>
  
    <nav class="md-nav" aria-label="Example toolkit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operation" class="md-nav__link">
    Operation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use" class="md-nav__link">
    Use
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environment/" class="md-nav__link">
        Computational environments
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
          
            
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../reproducible-research/">Data processing</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Data processing" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Data processing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reproducible-research/minimal-example/" class="md-nav__link">
        Minimal example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reproducible-research/replication-example/" class="md-nav__link">
        Replication example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#calculate-checksum-and-github-asset-upload" class="md-nav__link">
    Calculate Checksum and GitHub Asset Upload
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-toolkit" class="md-nav__link">
    Example toolkit
  </a>
  
    <nav class="md-nav" aria-label="Example toolkit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operation" class="md-nav__link">
    Operation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use" class="md-nav__link">
    Use
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/brazil-data-cube/compendium-harmonization/edit/master/docs/tools/utilitary/index.en.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<!--
    This file is part of Brazil Data Cube compendium-harmonization.
    Copyright (C) 2022 INPE.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program. If not, see <https://www.gnu.org/licenses/gpl-3.0.html>.
-->

<!-- ToDo: Modificar esse trecho para colocar o repositório oficial e os diretórios onde cada ferramenta mencionada está disponível -->

<h1 id="auxiliary-scripts">Auxiliary scripts<a class="headerlink" href="#auxiliary-scripts" title="Permanent link">&para;</a></h1>
<p>Besides the codes, in this <abbr title="Research Compendium">RC</abbr> that, that generates the results, a few auxiliary <em>scripts</em> were also developed. In this section, these <em>scripts</em> are detailed.</p>
<h3 id="calculate-checksum-and-github-asset-upload">Calculate Checksum and GitHub Asset Upload<a class="headerlink" href="#calculate-checksum-and-github-asset-upload" title="Permanent link">&para;</a></h3>
<p>To share this <abbr title="Research Compendium">RC</abbr>, all its materials were made available through a GitHub repository, which contains all the historic of modification on materials, code, documentation and data.</p>
<p>The <em>scripts</em> and documentation does not uses much disk volume, so it could be stored directly in GitHub. However, auxiliary data, that are used in minimal example and replication are larger and cannot be stored in a common repository. As an alternative, these files were published through the <a href="https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-large-files-on-github">Release Assets</a>, which supports files of up to 2 GB to be stored and maintained in the repository.</p>
<p>To prepare and organize the data as GitHub Release Assets two auxiliary <em>scripts</em> were made:</p>
<dl>
<dt><code>Calculate Checksum</code></dt>
<dd>
<p><code>Calculate Checksum</code> is a Python <em>script</em> that creates a <a href="https://datatracker.ietf.org/doc/html/rfc8493">BagIt</a> and stores their files as <code>zip</code>.</p>
</dd>
<dt><code>GitHub Asset Upload</code></dt>
<dd>
<p>Once the <a href="https://datatracker.ietf.org/doc/html/rfc8493">BagIt</a> are created, the R <em>script</em> <code>GitHub Asset Upload</code> uploads them to the GitHub servers, which is done with the package <a href="https://github.com/ropensci/piggyback">piggyback</a>.</p>
</dd>
</dl>
<p>Using these two scripts the data was made available on the same repository that contains the processing scripts and documentation.</p>
<h3 id="example-toolkit">Example toolkit<a class="headerlink" href="#example-toolkit" title="Permanent link">&para;</a></h3>
<p>Considering that since the data is on Github and that anyone can obtain the, to execute the examples of this <abbr title="Research Compendium">RC</abbr>, it is necessary that the data is organized in <a href="/en/#research-compendium-organization">the <abbr title="Research Compendium">RC</abbr> correct directories</a>.</p>
<p>To solve this and avoid manual <em>download</em> and organization, we provide a Python <em>script</em>, the <code>Example toolkit</code>, that automatically perform these steps. The only configuration a user must do is to define a directory for the <em>download</em>.</p>
<h4 id="operation">Operation<a class="headerlink" href="#operation" title="Permanent link">&para;</a></h4>
<p>The <code>Example toolkit</code> <em>script</em> will execute four main steps, as illustrated on the Figure bellow:</p>
<figure>
<p><img alt="libs-link" src="/assets/tools/utilitary/example-toolkit/operation-flow.svg" width="1024" />
  </p>
<figcaption>Example Toolkit Operation Flux</figcaption>
</figure>
<p>The <code>Example toolkit</code> <em>sript</em> performs the data <em>download</em> (from the <a href="https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-large-files-on-github">GitHub Release Assets</a>). Following, it verifies if the downloaded data haven't suffered any changes or if they are corrupted. This is performed using the downloaded BagIts. Then, the tool <em>scrit</em> extract the data to the correct folders. Finally, using the users definitions and directives of where the data was downloaded, it generates a <a href="/en/tools/processing/#arquivo-de-configuracao-dagster">Dagster configuration file</a>, which can be used to start the processing of the downloaded data.</p>
<div class="admonition info">
<p class="admonition-title">Dagster and configuration files</p>
<p>If you are interested in learning more on how Dagster is used in this <abbr title="Research Compendium">RC</abbr> and where the configuration file should be used, consult the Section <a href="/en/tools/processing/#dagster-configuration-file">Processing Scripts - Dagster</a>.</p>
</div>
<h4 id="use">Use<a class="headerlink" href="#use" title="Permanent link">&para;</a></h4>
<!-- ToDo: Atualizar o link do diretório toolkit no github -->

<p>To use the <code>Example toolkit</code> <em>script</em>, only Python is required with the environment requisites.</p>
<div class="admonition tip">
<p class="admonition-title">Example toolkit with Docker</p>
<p>To use the<code>Example toolkit</code> with no environment configuration, consult the section <a href="/en/tools/environment/#example-toolkit-environment">Example toolkit environment</a> for more information on how you can use the Docker version of the script.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Manual configuration of the environment</p>
<p>To manually configure the Python environment and the dependencies required to run the <code>Example toolkit</code>, you can use <a href="https://docs.conda.io/en/latest/">conda</a>. With this package manager, you can create a new environment with the <code>Example toolkit</code> requirements. To create this environment, use the file <code>environment.yml</code> that can be found in the directory <a href="#">tools/example-toolkit</a>:</p>
<div class="highlight"><pre><span></span><code>conda<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>-f<span class="w"> </span>environment.yml
</code></pre></div>
</div>
<p>To execute the <code>Example toolkit</code> you must define its configurations, which will be used to deremine the local to write the data and some parameters to auxiliate the <em>script</em> generates the Dagster configuration file. This configuration is done through environment variables, being them:</p>
<!-- ToDo: Atualizar o link do Exemplo mínimo e replicação para o github -->

<dl>
<dt><code>DOWNLOAD_REFERENCE_FILE</code></dt>
<dd>
<p>Environment variable to determine the absolute path of the <code>JSON</code> which defines where the GitHub Assets Release data will be downloaded. Examples of this file can be found in the directory <a href="#">tools/example-toolkit/config</a>.</p>
</dd>
<dd>
<p><em>Value example</em>: <code>/compendium/config/example-toolkit.json</code></p>
</dd>
<dt><code>DOWNLOAD_OUTPUT_DIRECTORY</code></dt>
<dd>
<p>Environment variable that determines the directory where the downloaded data will be stored. The data is organized following the format of the <a href="/en/tools/processing/#diretorio-de-dados">Data directory</a>, required by the processing <em>scripts</em>.</p>
</dd>
<dd>
<p><em>Value example</em>: <code>/compendium/data</code></p>
</dd>
<dt><code>PIPELINE_DIR</code> (Dagster Configuration)</dt>
<dd>
<p>Environment variable that determines where the Dagster Configuration file will be saved.</p>
</dd>
<dd>
<p><em>Value example</em>: <code>/compendium/config/config.yml</code></p>
</dd>
<dt><code>RAW_DATA_DIR</code> (Dagster Configuration)</dt>
<dd>
<p>Environment variable that determines which directory should be considered as the machine <a href="#">input dir</a> for the Dagster processing.</p>
</dd>
<dd>
<p><em>Value example</em>: <code>/compendium/data/raw_data</code></p>
</dd>
<dt><code>DERIVED_DATA_DIR</code> (Dagster Configuration)</dt>
<dd>
<p>Environment variable that determines which directory should be considered as the machine <a href="#">output dir</a> in the Dagster configuration file.</p>
</dd>
<dd>
<p><em>Value example</em>: <code>/compendium/data/derived_data</code></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Variable definition consistency</p>
<p>The configuration variables have a logical dependency that must be followed to avoid problems. To present this dependency let's consider the following example:</p>
<p>Suppose that you wish to <em>download</em> the data on a directory <code>/opt/my-data</code>. In this case, you will define the <code>DOWNLOAD_OUTPUT_DIRECTORY</code> as:</p>
<div class="highlight"><pre><span></span><code><span class="nv">DOWNLOAD_OUTPUT_DIRECTORY</span><span class="o">=</span>/opt/my-data
</code></pre></div>
<p>Knowing that your data will be organized following the pattern in <a href="/en/tools/processing/#diretorio-de-dados">Data directory</a>, the downloaded data will be stored as follows:</p>
<div class="highlight"><pre><span></span><code>/opt/my-data
    ├── derived_data
    └── raw_data
</code></pre></div>
<p>Considering this organization, if you desire to generate the Dagster file to process data in <code>/opt/my-data</code>, it will be required to define the Dagster environment variables as:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. Input dir</span>
<span class="nv">RAW_DATA_DIR</span><span class="o">=</span>/opt/my-data/raw_data

<span class="c1"># 2. Output dir</span>
<span class="nv">DERIVED_DATA_DIR</span><span class="o">=</span>/opt/my-data/derived_data
</code></pre></div>
</div>
<p>After defining each environment variable, the <code>Example toolkit</code> can be executed. To do that, the <em>script</em> available on the diretory <a href="#">tools/example-toolkit/scripts/pipeline.py</a> must be executed. Considering that you are in the root of this <abbr title="Research Compendium">RC</abbr>, the execution of this <em>script</em> can be performed by:</p>
<p><em>1. Changing directory</em></p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>tools/example-toolkit/
</code></pre></div>
<p><em>2. Execution</em></p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>scripts/pipeline.py
</code></pre></div>
<p>At the end of the execution, the output directories will appear as:</p>
<p><strong>Data</strong></p>
<p>The directory defined by the variable <code>DOWNLOAD_OUTPUT_DIRECTORY</code>, as mentioned, will follow the <a href="/pt/tools/processing/#diretorio-de-dados">Data directory</a> organization, required by this <abbr title="Research Compendium">RC</abbr> processing scripts <em>scripts</em>. The data will be organized as:</p>
<div class="highlight"><pre><span></span><code>DOWNLOAD_OUTPUT_DIRECTORY
    ├── derived_data
    └── raw_data
        ├── landsat8_data
        ├── sentinel2_data
        ├── scene_id_list
        └── lasrc_auxiliary_data
</code></pre></div>
<p><strong>Dagster Configuration</strong></p>
<p>The directory defined by the variable <code>PIPELINE_DIR</code> will be populated as a <a href="/en/tools/processing/#arquivo-de-configuracao-dagster">Dagster configuration File</a> named <code>config.yaml</code>. In this file, the following content will be available:</p>
<div class="highlight"><span class="filename">config.yaml: Arquivo de configuração Dagster</span><pre><span></span><code><span class="nt">resources</span><span class="p">:</span>
<span class="w">  </span><span class="nt">lasrc_data</span><span class="p">:</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">lasrc_auxiliary_data_dir</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nv">RAW_DATA_DIR</span><span class="p p-Indicator">}</span><span class="l l-Scalar l-Scalar-Plain">/lasrc_auxiliary_data</span>
<span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">derived_data_dir</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nv">DERIVED_DATA_DIR</span><span class="p p-Indicator">}</span>
<span class="w">      </span><span class="nt">landsat8_input_dir</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nv">RAW_DATA_DIR</span><span class="p p-Indicator">}</span><span class="l l-Scalar l-Scalar-Plain">/landsat8_data</span>
<span class="w">      </span><span class="nt">sentinel2_input_dir</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nv">RAW_DATA_DIR</span><span class="p p-Indicator">}</span><span class="l l-Scalar l-Scalar-Plain">/sentinel2_data</span>
<span class="nt">solids</span><span class="p">:</span>
<span class="w">  </span><span class="nt">load_and_standardize_sceneids_input</span><span class="p">:</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">landsat8_sceneid_list</span><span class="p">:</span><span class="w">  </span><span class="p p-Indicator">{</span><span class="nv">RAW_DATA_DIR</span><span class="p p-Indicator">}</span><span class="l l-Scalar l-Scalar-Plain">/scene_id_list/l8-sceneids.txt</span>
<span class="w">      </span><span class="nt">sentinel2_sceneid_list</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nv">RAW_DATA_DIR</span><span class="p p-Indicator">}</span><span class="l l-Scalar l-Scalar-Plain">/scene_id_list/s2-sceneids.txt</span>
</code></pre></div>
<p>For a complete and functional example of the <code>Example toolkit</code>, consult the section <a href="/en/reproducible-research/minimal-example/">Reproducible research - minimal example</a>.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../processing/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Processing scripts" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Processing scripts
            </div>
          </div>
        </a>
      
      
        
        <a href="../environment/" class="md-footer__link md-footer__link--next" aria-label="Next: Computational environments" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Computational environments
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/brazil-data-cube/compendium-harmonization" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.top", "navigation.indexes", "navigation.sections", "search.share", "search.suggest", "search.highlight", "toc.follow"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js"></script>
      
        <script src="../../../assets/static/js/tablesort.js"></script>
      
    
    
  </body>
</html>