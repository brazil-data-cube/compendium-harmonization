
<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-8.5.10">
    
    
      
        <title>Scripts de processamento - Harmonization Compendium Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/static/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="Blue-Grey" data-md-color-accent="Blue-Grey">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#scripts-de-processamento" class="md-skip">
          Ir para o conteúdo
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabeçalho">
    <a href="../../.." title="Harmonization Compendium Documentation" class="md-header__button md-logo" aria-label="Harmonization Compendium Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 2v2h1v14a4 4 0 0 0 4 4 4 4 0 0 0 4-4V4h1V2H7m4 14c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m2-4c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m1-5h-4V4h4v3Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Harmonization Compendium Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Scripts de processamento
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="Blue-Grey" data-md-color-accent="Blue-Grey"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
          
        
      </form>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Selecione o idioma">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="../../../tools/processing/" hreflang="pt" class="md-select__link">
                    Brazilian Portuguese
                  </a>
                </li>
              
                <li class="md-select__item">
                  <a href="../../../en/tools/processing/" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Buscar" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Pesquisar">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Compartilhar" aria-label="Compartilhar" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Limpar" aria-label="Limpar" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando a pesquisa
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/brazil-data-cube/compendium-harmonization" title="Ir ao repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    brazil-data-cube/compendium-harmonization
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navegação" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Harmonization Compendium Documentation" class="md-nav__button md-logo" aria-label="Harmonization Compendium Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 2v2h1v14a4 4 0 0 0 4 4 4 4 0 0 0 4-4V4h1V2H7m4 14c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m2-4c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m1-5h-4V4h4v3Z"/></svg>

    </a>
    Harmonization Compendium Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/brazil-data-cube/compendium-harmonization" title="Ir ao repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    brazil-data-cube/compendium-harmonization
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Referência</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Referência" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Referência
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../libraries/" class="md-nav__link">
        Bibliotecas de software
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Scripts de processamento
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Scripts de processamento
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#jupyter-notebook" class="md-nav__link">
    Jupyter Notebook
  </a>
  
    <nav class="md-nav" aria-label="Jupyter Notebook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuracoes" class="md-nav__link">
    Configurações
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dagster" class="md-nav__link">
    Dagster
  </a>
  
    <nav class="md-nav" aria-label="Dagster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuracoes_1" class="md-nav__link">
    Configurações
  </a>
  
    <nav class="md-nav" aria-label="Configurações">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arquivo-de-configuracao-dagster" class="md-nav__link">
    Arquivo de configuração Dagster
  </a>
  
    <nav class="md-nav" aria-label="Arquivo de configuração Dagster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    Resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solids" class="md-nav__link">
    Solids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exemplo-completo" class="md-nav__link">
    Exemplo completo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diretorio-de-dados" class="md-nav__link">
    Diretório de dados
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../utilitary/" class="md-nav__link">
        Scripts auxiliares
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environment/" class="md-nav__link">
        Ambientes computacionais
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
          
            
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../reproducible-research/">Processamento de dados</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Processamento de dados" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Processamento de dados
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reproducible-research/minimal-example/" class="md-nav__link">
        Exemplo mínimo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reproducible-research/replication-example/" class="md-nav__link">
        Exemplo de replicação
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#jupyter-notebook" class="md-nav__link">
    Jupyter Notebook
  </a>
  
    <nav class="md-nav" aria-label="Jupyter Notebook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuracoes" class="md-nav__link">
    Configurações
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dagster" class="md-nav__link">
    Dagster
  </a>
  
    <nav class="md-nav" aria-label="Dagster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuracoes_1" class="md-nav__link">
    Configurações
  </a>
  
    <nav class="md-nav" aria-label="Configurações">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arquivo-de-configuracao-dagster" class="md-nav__link">
    Arquivo de configuração Dagster
  </a>
  
    <nav class="md-nav" aria-label="Arquivo de configuração Dagster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    Resources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solids" class="md-nav__link">
    Solids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exemplo-completo" class="md-nav__link">
    Exemplo completo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diretorio-de-dados" class="md-nav__link">
    Diretório de dados
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/brazil-data-cube/compendium-harmonization/edit/master/docs/tools/processing/index.pt.md" title="Editar esta página" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<!--
    This file is part of Brazil Data Cube compendium-harmonization.
    Copyright (C) 2022 INPE.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program. If not, see <https://www.gnu.org/licenses/gpl-3.0.html>.
-->

<!-- Abbreviations -->
<h1 id="scripts-de-processamento">Scripts de processamento<a class="headerlink" href="#scripts-de-processamento" title="Permanent link">&para;</a></h1>
<p>Para a implementação da metodologia dos experimentos realizados neste <abbr title="Research Compendium">RC</abbr>, inicialmente fez-se a criação de um <a href="/pt/tools/libraries">conjunto de bibliotecas de software</a>. Com base nessas bibliotecas e todas as funcionalidades que essas disponibilizam, nós realizamos a implementação de <em>scripts</em> de processamento. Esses <em>scripts</em> representam a materialização da metodologia dos experimentos realizados neste <abbr title="Research Compendium">RC</abbr>.</p>
<p>Esses <em>scripts</em> de processamento, foram implementados utilizando duas ferramentas:</p>
<p><a href="https://jupyter.org/">Jupyter Notebook</a>: Ambiente de computação interativa, que permitem a criação de notebooks computacionais que implementam os conceitos de computação letrada, o qual permite a mescla de textos e código em um mesmo documento;</p>
<p><a href="https://docs.dagster.io/0.12.15/getting-started">Dagster</a>: Plataforma que permite a criação, gerenciamento e execução de fluxos de processamento e manipulação de dados.</p>
<p>Ambas implementações listadas acima, utilizam as mesmas bibliotecas e versões para a realização do processamento, garantindo a produção de resultados reprodutíveis e comparáveis. A escolha pela implementação do fluxo de processamento em duas ferramentas distintas foi realizada por alguns motivos, sendo os principais deles listados abaixo:</p>
<ol>
<li>Apresentação das capacidades de uso das biblioteca criadas neste <abbr title="Research Compendium">RC</abbr>;</li>
<li>Abrangência nos cenários de uso da metodologia implementada neste <abbr title="Research Compendium">RC</abbr>;</li>
<li>Dupla implementação, o que permite a comparação dos resultados gerados de diferentes formas, partindo das mesmas ferramentas.</li>
</ol>
<p>De forma geral, a ligação de cada um desses <em>scripts</em> de processamento e as <a href="/pt/tools/libraries">bibliotecas de software</a> desenvolvidas nesse <abbr title="Research Compendium">RC</abbr>, são apresentadas na Figura abaixo:</p>
<figure>
<p><img alt="libs-link" src="/assets/tools/processing/processing-scripts-libs-overview.svg" width="1024" />
  </p>
<figcaption>Relação entre as bibliotecas de funcionalidades e <i>scripts</i> de processamento.</figcaption>
</figure>
<h2 id="jupyter-notebook">Jupyter Notebook<a class="headerlink" href="#jupyter-notebook" title="Permanent link">&para;</a></h2>
<p>Por vezes, quando a metodologia implementada está sendo explorado, por exemplo, em cenários de desenvolvimento, é necessário que todos os passos sejam bem documentos e organizados de forma clara. Para esse tipo de cenário, foi realizada a implementação da metodologia deste <abbr title="Research Compendium">RC</abbr> utilizando o Jupyter Notebook.</p>
<p>No Jupyter Notebook implementado, todas as etapas são documentadas e descritas, de modo que todos possam explorar e enteder o que está sendo realizado. No vídeo abaixo, tem-se a apresentação de algumas partes desse notebook.</p>
<figure>
<p><img alt="libs-link" src="/assets/tools/processing/jupyter/jupyter-notebook-overview.gif" width="1024" />
  </p>
<figcaption>Exemplo de parte do Jupyter Notebook de processamento.</figcaption>
</figure>
<h3 id="configuracoes">Configurações<a class="headerlink" href="#configuracoes" title="Permanent link">&para;</a></h3>
<p>Para a utilização desse Jupyter Notebook é necessário apenas uma configuração: A definição da variável de ambiente <code>DATA_DIRECTORY</code>. Essa variável de ambiente, determina o local onde está o diretório de dados que deverá ser utilizado pelo notebook para carregar os dados de entrada e salvar os resultados gerados.</p>
<div class="admonition tip">
<p class="admonition-title">Sobre o diretório de dados</p>
<p>Os detalhes de como o diretório de dados definido na variável de ambiente <code>DATA_DIRECTORY</code> deve estar organizado são apresentados na seção <a href="#diretorio-de-dados">Diretório de dados</a>.</p>
</div>
<h2 id="dagster">Dagster<a class="headerlink" href="#dagster" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Sobre a versão do Dagster</p>
<p>No momento em que esse <abbr title="Research Compendium">RC</abbr> estava sendo construído, a versão oficial do Dagste era <code>0.12.15</code>. Atualmente, as versões mudaram, o que trouxe novas nomenclaturas e definições ao <em>software</em>. Para manter o conteúdo consistente, as explicações utilizadas nessa documentação, foram criadas com base na versão <code>0.12.15</code>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Nomenclaturas</p>
<p>No Dagster, todo fluxo de processamento criado é chamado de <strong>Pipeline</strong>. Neste documento, para manter a consistência com as explicações realizadas com o Jupyter Notebook, os pipelines serão genericamente tratados como <em>scripts</em> de processamento.</p>
<p>Caso você deseje, pode consultar a <a href="https://docs.dagster.io/0.12.15/getting-started">documentação oficial do Dagster (v0.12.15)</a> onde tem-se uma explicação detalhada do que são os <a href="https://docs.dagster.io/0.12.15/concepts/solids-pipelines/pipelines">Pipelines</a>.</p>
</div>
<p>Com a metodologia implementada e pronta para ser utilizada, sua execução com o uso de grandes volumes de dados pode exigir diversos controles e ações como:</p>
<ol>
<li>Execução paralela das operações;</li>
<li>Controle de falhas;</li>
<li>Reexecução.</li>
</ol>
<p>Com base nessa necessidade, foi criado o <em>script</em> de processamento utilizando a ferramenta <a href="https://docs.dagster.io/0.12.15/getting-started">Dagster</a>. Com essa ferramenta, toda a orquestração da operação pode ser feita de maneira simples e direta. Além disso, quando necessário e devidamente configurado, diferentes formas de execução podem ser adotados, como execuções distribuídas, paralelas. Outro ponto positivo ao uso do Dagster está no controle de falhas e reexecução.</p>
<p>A criação do <em>script</em> de processamento é feita utilizando uma interface de programação (API) em linguagem Python, no entanto, a manipulação e uso do <em>script</em> é feita através de uma interface <em>web</em>. Nessa interface, tem-se disponível opções para executar o processamento, fazer seu gerenciamento, bem como consultar a documentação de cada uma das etapas e ver o fluxo geral que é realizado. O vídeo abaixo, apresenta uma visão geral dessa interface:</p>
<figure>
<p><img alt="libs-link" src="/assets/tools/processing/dagster/dagster-overview.gif" width="1024" />
  </p>
<figcaption>Exemplo de parte da interface do Dagster com a visão do fluxo de processamento.</figcaption>
</figure>
<h3 id="configuracoes_1">Configurações<a class="headerlink" href="#configuracoes_1" title="Permanent link">&para;</a></h3>
<p>Para realizar a execução do <em>script</em> de processamento criado com o Dagster, é necessário realizar a configuração da ferramenta. Essa configuração é feita através da definição de parâmetros em um arquivo no formato <code>YAML</code>, o qual especifica:</p>
<ol>
<li>Onde os dados de entrada estão armazenados;</li>
<li>Qual será o diretório de saída;</li>
<li>Quais imagens e bandas espectrais devem ser utilizadas;</li>
<li>Especificação de recursos computacionais (e.g., Quantidade de CPU utilizada).</li>
</ol>
<p>Esse arquivo, uma vez criado, é inserido na interface do Dagster, onde é feita sua validação e uso para a criação de uma nova execução do <em>script</em>.</p>
<div class="admonition tip">
<p class="admonition-title">Sobre execuções no Dagster</p>
<p>Para saber mais detalhes sobre como o Dagster realiza a criação de suas execuções na versão <code>0.12.15</code>, por favor, consulte a <a href="https://docs.dagster.io/0.12.15/concepts/configuration/config-schema#config-schema">documentação oficial da ferramenta</a></p>
</div>
<p>Para que você seja capaz de criar configurações do Dagster para realizar execuções com seus próprios dados e necessidades, nas subseções abaixo faz-se a apresentação da estrutura do arquivo de configuração <code>YAML</code> do Dagster.</p>
<h4 id="arquivo-de-configuracao-dagster">Arquivo de configuração Dagster<a class="headerlink" href="#arquivo-de-configuracao-dagster" title="Permanent link">&para;</a></h4>
<p>O arquivo de configuração Dagster, como mencionado anteriormente, é utilizado para definir os recursos que serão utilizados durante a execução do <em>script</em> de processamento. Esse arquivo de configuração, no formato <code>YAML</code>, é dividido em duas principais seções: (i) Resources; (ii) Solids. Cada uma dessas seções, é responsável por realizar uma parte da configuração, de modo a permitir que as definições mencionadas anteriormente possam ser realizadas. Cada seção e as configurações definidas são apresentadas nos tópicos a seguir</p>
<div class="admonition tip">
<p class="admonition-title">Sobre o arquivo de configuração</p>
<p>Ao utilizar o Jupyter Notebook, toda a configuração é feita através de uma única variável de ambiente (<code>DATA_DIRECTORY</code>). No Dagster, o arquivo de configuração tem exatamente o mesmo papel.</p>
<p>Sendo assim, é recomendado que antes de você acompanhar os tópicos de definição do arquivo de configuração, você consulte a seção <a href="#diretorio-de-dados">Diretório de dados</a>, na qual é especificado a estrutura de diretórios que deve ser seguida, bem como o conteúdo que deve estar disponível em cada seção.</p>
</div>
<h5 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h5>
<p>No Dagster, <a href="https://docs.dagster.io/0.12.15/concepts/modes-resources#overview">resources</a> são utilizados para representar elementos e recursos do ambiente computacional que <strong>devem</strong> estar disponíveis para a execução do <em>script</em> de processamento. No caso do <em>script</em> de processamento desse <abbr title="Research Compendium">RC</abbr>, os <em>resources</em> representam os dados que devem ser utilizados durante o processamento. Sendo assim, a um <em>resource</em>, pode-se ter associado um ou mais diretórios de dados. Ao todo, o <em>script</em> de processamento necessita de dois <em>resources</em>:</p>
<p><strong>lasrc_data</strong></p>
<p><em>Resource</em> onde tem-se a disponibilização de dados relacionados a ferramenta LaSRC. A definição de um <em>resource</em> <code>lasrc_data</code> requer a especificação da seguinte variável de configuração:</p>
<p><code>lasrc_auxiliary_data_dir</code>: Variável onde faz-se a definição do caminho para o diretório de dados auxiliares da ferramente LaSRC, requeridos para a realização da correção atmosférica (usado neste <abbr title="Research Compendium">RC</abbr> em imagens Sentinel-2/MSI).</p>
<div class="admonition info">
<p class="admonition-title">Organização do diretório de dados</p>
<p>Para mais detalhes de como esse diretório de dados auxiliares deve ser organizado, por favor, consulte a seção <a href="#diretorio-de-dados">Diretório de dados</a>.</p>
</div>
<p>Um exemplo completo de definição de um <em>resource</em> <code>lasrc_data</code> é apresentado abaixo:</p>
<div class="highlight"><pre><span></span><code><span class="nt">resources</span><span class="p">:</span>
<span class="w">  </span><span class="nt">lasrc_data</span><span class="p">:</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">lasrc_auxiliary_data_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/lasrc/auxiliary/data</span>
</code></pre></div>
<p>Esse bloco de código deve ser definido dentro do arquivo de configuração. Para um exemplo completo, consulte o <a href="#full-example">arquivo de configuração do dagster</a>.</p>
<p><strong>repository</strong></p>
<p><em>Resource</em> onde faz-se a definição dos diretórios de entrada e saída do <em>script</em> de processamento. A definição de um <em>resource</em> <code>repository</code> requer a especificação das seguintes variáveis de configuração:</p>
<p><code>landsat8_input_dir</code>: Diretório onde estão disponíveis os dados Landsat-8/OLI, que podem ser utilizados como entrada para o <em>script</em> de processamento;</p>
<p><code>sentinel2_input_dir</code>: Diretório onde estão disponíveis os dados Sentinel-2/MSI, que podem ser utilizados como entrada para o <em>script</em> de processamento;</p>
<p><code>derived_data_dir</code>: Diretório onde os dados gerados durante as etapas de processamento serão salvos.</p>
<div class="admonition info">
<p class="admonition-title">Organização do diretório de dados</p>
<p>Para mais detalhes de como cada um desses diretórios devem ser organizados, por favor, consulte a seção <a href="#diretorio-de-dados">Diretório de dados</a>.</p>
</div>
<p>Um exemplo completo de definição de um <em>resource</em> <code>repository</code> é apresentado abaixo:</p>
<div class="highlight"><pre><span></span><code><span class="nt">resources</span><span class="p">:</span>
<span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">derived_data_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/derived/data/dir</span>
<span class="w">      </span><span class="nt">landsat8_input_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/input/landsat8/data/dir</span>
<span class="w">      </span><span class="nt">sentinel2_input_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/input/sentinel2/data/dir</span>
</code></pre></div>
<p>Esse bloco de código deve ser definido dentro do arquivo de configuração. Para um exemplo completo, consulte o <a href="#full-example">arquivo de configuração do dagster</a>.</p>
<h5 id="solids">Solids<a class="headerlink" href="#solids" title="Permanent link">&para;</a></h5>
<p>No Dagster, <a href="https://docs.dagster.io/0.12.15/concepts/solids-pipelines/solids#solids">solids</a> representam a unidade funcional de trabalho que fará a execução de uma operação de fato. Esses elementos são os responsáveis por receber as entradas, realizar um processamento e gerar as saídas. Assim, no <em>script</em> de processamento, eles foram utilizados para representar cada uma das etapas de processamento.</p>
<p>Os <strong>solids</strong> podem ou não requerer algum tipo de configuração para sua definição. No caso do <em>script</em> de processamento deste <abbr title="Research Compendium">RC</abbr>, apenas um deles necessita de configuração, sendo ele:</p>
<p><code>load_and_standardize_sceneids_input</code>: <em>solid</em> responsável em receber os arquivos com a definição das cenas Landsat-8/OLI e Sentinel-2/MSI que deverão ser processadas. Ao receber esses arquivos, o <em>solid</em> faz a leitura, validação e então passa as informações carregadas para as etapas subsequentes, que as utilizam para a realização das atividades de processamento. Na configuração desse <em>solid</em>, faz-se necessário a especificação das seguintes variáveis de configuração:</p>
<ul>
<li>
<p><code>landsat8_sceneid_list</code>: Arquivo <code>.txt</code> com o nome das cenas Landsat-8/OLI que deverão ser consideradas no fluxo de processamento. Esses nomes devem ser o mesmo disponível no diretório de dados Landsat-8/OLI (<code>landsat8_input_dir</code>) especificado no <em>resource</em> <code>repository</code>;</p>
</li>
<li>
<p><code>sentinel2_sceneid_list</code>: Arquivo <code>.txt</code> com o nome das cenas Sentinel-2/MSI que deverão ser consideradas no fluxo de processamento. Esses nomes devem ser o mesmo disponível no diretório de dados Sentinel-2/MSI (<code>sentinel2_input_dir</code>) especificado no <em>resource</em> <code>repository</code>;</p>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Organização do diretório de dados</p>
<p>Para mais detalhes de como os arquivos com os nomes das cenas devem estar organizados, por favor, consulte a seção <a href="#diretorio-de-dados">Diretório de dados</a>.</p>
</div>
<p>Um exemplo completo de definição de um <em>solid</em> <code>load_and_standardize_sceneids_input</code> é apresentado abaixo:</p>
<div class="highlight"><pre><span></span><code><span class="nt">solids</span><span class="p">:</span>
<span class="w">  </span><span class="nt">load_and_standardize_sceneids_input</span><span class="p">:</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">landsat8_sceneid_list</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/input/landsat8/data/landsat.txt</span>
<span class="w">      </span><span class="nt">sentinel2_sceneid_list</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/input/sentinel2/data/sentinel.txt</span>
</code></pre></div>
<h5 id="exemplo-completo">Exemplo completo<a class="headerlink" href="#exemplo-completo" title="Permanent link">&para;</a></h5>
<p>Abaixo, faz-se a apresentação de um arquivo completo de configuração Dagster, que utiliza todos os <em>resources</em> e <em>solids</em> especificados nos tópicos anteriores:</p>
<p>Para exemplificar todos os elementos citados anteriormente em um arquivo de configuração, abaixo é apresentado a configuração mínima necessária para a execução do pipeline deste <abbr title="Research Compendium">RC</abbr>.</p>
<div class="highlight"><pre><span></span><code><span class="nt">resources</span><span class="p">:</span>
<span class="w">  </span><span class="nt">lasrc_data</span><span class="p">:</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">lasrc_auxiliary_data_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/lasrc/auxiliary/data</span>
<span class="w">  </span><span class="nt">repository</span><span class="p">:</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">derived_data_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/derived/data/dir</span>
<span class="w">      </span><span class="nt">landsat8_input_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/input/landsat8/data/dir</span>
<span class="w">      </span><span class="nt">sentinel2_input_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/input/sentinel2/data/dir</span>

<span class="nt">solids</span><span class="p">:</span>
<span class="w">  </span><span class="nt">load_and_standardize_sceneids_input</span><span class="p">:</span>
<span class="w">    </span><span class="nt">config</span><span class="p">:</span>
<span class="w">      </span><span class="nt">landsat8_sceneid_list</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/input/landsat8/data/landsat.txt</span>
<span class="w">      </span><span class="nt">sentinel2_sceneid_list</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/input/sentinel2/data/sentinel.txt</span>
</code></pre></div>
<h2 id="diretorio-de-dados">Diretório de dados<a class="headerlink" href="#diretorio-de-dados" title="Permanent link">&para;</a></h2>
<p>Em ambas as implementações dos <em>scripts</em> de processamento, na etapa de configuração, faz-se necessário a definição do caminho para o diretório de dados. Esse diretório possui uma organização padrão, de modo que, independente da forma com que a execução será realizada, a mesma organização de dados pode ser seguida. Nesta seção, será apresentado o formato de organização desse diretório de dados. Para começar, primeiro é importante entender que:</p>
<div class="admonition quote">
<p>O diretório de dados, utilizado em ambos <em>scripts</em> de processamento, representam o diretório de entradas e saídas do <em>script</em>. Todas as entradas são lidas desse diretórios, não sendo possível ler dados de diferentes diretórios. O mesmo vale para as saídas, os resultados produzidos sempre serão armazenados em nesse diretório.</p>
</div>
<p>A lógica por trás da definição desse diretório é a da organização: Se o pesquisador precisa centralizar e manter organizado em uma estrutura lógica todos os materiais que ele está utilizando para produzir os resultados, bem como os resultados propriamente ditos, ele minimamente terá de manter seus objetos de pesquisa organizados.</p>
<p>Para que esse diretório suporte toda essas utilidades, diferentes subdiretórios são criados abaixo dele. Nesses diretórios tem-se a definição dos dados de entrada e saída. Abaixo, a estrutura do diretório de dados, esperada por ambos os <em>scripts</em> de processamento serão apresentados:</p>
<div class="highlight"><pre><span></span><code>data directory
    ├── derived_data
    └── raw_data
        ├── landsat8_data
        ├── sentinel2_data
        ├── scene_id_list
        └── lasrc_auxiliary_data
</code></pre></div>
<p>Onde:</p>
<p><strong>raw_data</strong></p>
<p>Diretório onde os dados de entrada devem ser armazenados. Os subdiretório desse, são explicados abaixo.</p>
<p><strong>raw_data/landsat8_data</strong></p>
<p>Nesse diretório, devem ser colocados todos os dados Landsat-8/OLI que podem ser utilizados como entrada nos <em>scripts</em> de processamento. Para o caso do Landsat-8/OLI, é esperado que as imagens estejam separadas por diretórios. Abaixo, é apresentado a estrutura desse diretório:</p>
<div class="highlight"><pre><span></span><code>landsat8_data
    ├── LC08_L2SP_222081_20171120_20200902_02_T1
    └── LC08_L2SP_223081_20171111_20200902_02_T1
</code></pre></div>
<p>A organização das imagens dentro de cada diretório, deve seguir o formato utilizado pela <strong>U</strong>nited <strong>S</strong>tates <strong>G</strong>eological <strong>S</strong>urvey (USGS) na distribuição dos dados L2 (com correção atmosférica) da coleção 2 (C2). Além disso, a nomenclatura do diretório, também deve seguir o padrão de disseminação da USGS. Caso esse padrão não seja seguido, erros podem surgir durante as etapas de processamento.</p>
<p>Abaixo, tem um exemplo de como esse diretório deve estar organizado internamente:</p>
<div class="highlight"><pre><span></span><code>landsat8_data
    └── LC08_L2SP_223081_20171111_20200902_02_T1
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_ANG.txt
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_MTL.json
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_MTL.txt
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_MTL.xml
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_QA_PIXEL.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_QA_RADSAT.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_SR_B1.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_SR_B2.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_SR_B3.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_SR_B4.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_SR_B5.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_SR_B6.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_SR_B7.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_SR_QA_AEROSOL.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_SR_stac.json
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_ST_ATRAN.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_ST_B10.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_ST_CDIST.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_ST_DRAD.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_ST_EMIS.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_ST_EMSD.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_ST_QA.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_ST_stac.json
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_ST_TRAD.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_ST_URAD.TIF
        ├── LC08_L2SP_223081_20171111_20200902_02_T1_thumb_large.jpeg
        └── LC08_L2SP_223081_20171111_20200902_02_T1_thumb_small.jpeg
</code></pre></div>
<p><strong>raw_data/sentinel2_data</strong></p>
<p>Nesse diretório, devem ser colocados todos os dados Sentinel-2/MSI que podem ser utilizados como entrada nos <em>scripts</em> de processamento. Para o caso do Sentinel-2/MSI, é esperado que as imagens estejam separadas por diretórios. Abaixo, é apresentado a estrutura desse diretório:</p>
<div class="highlight"><pre><span></span><code>sentinel2_data
    ├── S2B_MSIL1C_20171119T133209_N0206_R081_T22JBM_20171120T175608.SAFE
    └── S2B_MSIL1C_20171122T134159_N0206_R124_T22JBM_20171122T200800.SAFE
</code></pre></div>
<p>A organização das imagens dentro de cada diretório, deve seguir o formato dos diretórios <code>.SAFE</code> disponibilizados pela ESA. Deve-se notar que, a nomenclatura do diretório, também deve seguir o padrão de disseminação da ESA (Incluindo o <code>.SAFE</code>). Caso esse padrão não seja seguido, erros podem surgir durante as etapas de processamento.</p>
<p>Abaixo, tem um exemplo de como esse diretório deve estar organizado internamente:</p>
<div class="highlight"><pre><span></span><code>sentinel2_data
    └── S2B_MSIL1C_20171119T133209_N0206_R081_T22JBM_20171120T175608.SAFE
        ├── AUX_DATA
        ├── DATASTRIP
        ├── GRANULE
        ├── HTML
        ├── INSPIRE.xml
        ├── manifest.safe
        ├── MTD_MSIL1C.xml
        ├── rep_info
        └── S2B_MSIL1C_20171119T133209_N0206_R081_T22JBM_20171120T175608-ql.jpg
</code></pre></div>
<p><strong>raw_data/scene_id_list</strong></p>
<p>Diretório onde estão os arquivos de definição de quais dados estão disponíveis nos diretórios <code>landsat8_data</code> e <code>sentinel2_data</code>, devem ser considerados nas etapas de processamento. Para isso, nesse diretório tem-se dois arquivos:</p>
<p><code>scene_ids_lc8.txt</code>: Arquivo de definição de quais imagens Landsat-8/OLI do diretório (<code>landsat8_data</code>) devem ser processados;
<code>scene_ids_s2.txt</code>: Arquivo de definição de quais imagens Sentinel-2/MSI do diretório (<code>sentinel2_data</code>) devem ser processados.</p>
<p>Em ambos os arquivos, deve-se definir o nome dos diretórios das imagens que devem ser consideradas nas etapas de processamento. Para exemplificar sua utilização, considere os seguintes diretórios <code>landsat8_data</code> e <code>sentinel2_data</code>:</p>
<div class="highlight"><pre><span></span><code>landsat8_data
    ├── LC08_L2SP_222081_20171120_20200902_02_T1
    └── LC08_L2SP_223081_20171111_20200902_02_T1

sentinel2_data
    ├── S2B_MSIL1C_20171119T133209_N0206_R081_T22JBM_20171120T175608.SAFE
    └── S2B_MSIL1C_20171122T134159_N0206_R124_T22JBM_20171122T200800.SAFE
</code></pre></div>
<p>Para que esses dados sejam considerados nos <em>scripts</em> de processamento, os arquivos de definição devem ser preenchidos da seguinte forma:</p>
<p><em>scene_ids_lc8.txt</em></p>
<div class="highlight"><pre><span></span><code>LC08_L2SP_222081_20171120_20200902_02_T1
LC08_L2SP_223081_20171111_20200902_02_T1
</code></pre></div>
<p><em>scene_ids_s2.txt</em></p>
<div class="highlight"><pre><span></span><code>S2B_MSIL1C_20171119T133209_N0206_R081_T22JBM_20171120T175608.SAFE
S2B_MSIL1C_20171122T134159_N0206_R124_T22JBM_20171122T200800.SAFE
</code></pre></div>
<p>Os diretórios que não são listados nesses arquivos, não são considerados nas etapas de processamento.</p>
<p><strong>raw_data/lasrc_auxiliary_data</strong></p>
<p>Nesse diretório, devem estar armazenados os dados auxiliares utilizados na aplicação do LaSRC. A organização do diretório deve ser a mesma utilizada no <a href="https://edclpdsftp.cr.usgs.gov/downloads/auxiliaries/lasrc_auxiliary/L8/">FTP de disseminação USGS</a> da USGS. Abaixo, tem-se um exemplo de organização:</p>
<div class="highlight"><pre><span></span><code>lasrc_auxiliary_data
    ├── CMGDEM.hdf
    ├── LADS
    ├── LDCMLUT
    ├── MSILUT
    └── ratiomapndwiexp.hdf
</code></pre></div>
<p>Deve-se notar que para o fluxo de processamento, apenas os arquivos do diretório <code>lasrc_auxiliary_data/LADS</code> devem ser alterados. Nesse diretório, os arquivos equivalentes as imagens Sentinel-2/MSI que serão processadas devem estar disponíveis. Para exemplificar, considere o diretório <code>sentinel2_data</code> abaixo:</p>
<div class="highlight"><pre><span></span><code>sentinel2_data
    ├── S2B_MSIL1C_20171119T133209_N0206_R081_T22JBM_20171120T175608.SAFE
    └── S2B_MSIL1C_20171122T134159_N0206_R124_T22JBM_20171122T200800.SAFE
</code></pre></div>
<p>Para que todas as imagens desse diretório sejam processadas com o LaSRC durante a execução dos <em>scripts</em> de processamento, os seus respectivos arquivos <code>LADS</code> devem estar definidos. Nesse caso:</p>
<div class="highlight"><pre><span></span><code>lasrc_auxiliary_data
    ├── CMGDEM.hdf
    └── LADS
       └── 2017
           ├── L8ANC2017323.hdf_fused
           └── L8ANC2017326.hdf_fused
</code></pre></div>
<p><strong>derived_data</strong></p>
<p>Diretório onde os resultados gerados serão armazenados. Ao final da execução do <em>script</em> de processamento, esse diretório terá a seguinte estrutura:</p>
<div class="highlight"><pre><span></span><code>derived_data
    ├── l8
    │   ├── lc8_nbar_angles
    │   └── lc8_nbar
    └── s2
        ├── s2_lasrc_sr
        ├── s2_lasrc_nbar
        ├── s2_sen2cor_sr
        └── s2_sen2cor_nbar
</code></pre></div>
<p>Onde:</p>
<p><em>Landsat-8/OLI data</em></p>
<ul>
<li>
<p><code>l8/lc8_nbar_angles</code>: Bandas de ângulos geradas para os dados Landsat-8/OLI;</p>
</li>
<li>
<p><code>l8/lc8_nbar</code>: Produtos NBAR gerados com dados Landsat-8/OLI.</p>
</li>
</ul>
<p><em>Sentinel-2/MSI LaSRC data</em></p>
<ul>
<li>
<p><code>s2/s2_lasrc_sr</code>: Dados Sentinel-2/MSI com correção atmosférica feita através da ferramenta LaSRC;</p>
</li>
<li>
<p><code>s2/s2_lasrc_nbar</code>: Produtos NBAR gerados com dados Sentinel-2/MSI com correção atmosférica feita através da ferramenta LaSRC (O mesmo diretório <code>s2/s2_lasrc_sr</code>).</p>
</li>
</ul>
<p><em>Sentinel-2/MSI Sen2Cor data</em></p>
<ul>
<li>
<p><code>s2/s2_sen2cor_sr</code>: Dados Sentinel-2/MSI com correção atmosférica feita através da ferramenta Sen2Cor;</p>
</li>
<li>
<p><code>s2/s2_sen2cor_nbar</code>: Produtos NBAR gerados com dados Sentinel-2/MSI com correção atmosférica feita através da ferramenta Sen2Cor (O mesmo diretório <code>s2/s2_sen2cor_sr</code>).</p>
</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Voltar ao topo
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Rodapé" >
      
        
        <a href="../libraries/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: Bibliotecas de software" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Anterior
              </span>
              Bibliotecas de software
            </div>
          </div>
        </a>
      
      
        
        <a href="../utilitary/" class="md-footer__link md-footer__link--next" aria-label="Próximo: Scripts auxiliares" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Próximo
              </span>
              Scripts auxiliares
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/brazil-data-cube/compendium-harmonization" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.top", "navigation.indexes", "navigation.sections", "search.share", "search.suggest", "search.highlight", "toc.follow"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copiado para \u00e1rea de transfer\u00eancia", "clipboard.copy": "Copiar para \u00e1rea de transfer\u00eancia", "search.config.lang": "pt", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Buscar", "search.result.more.one": "Mais 1 nesta p\u00e1gina", "search.result.more.other": "Mais # nesta p\u00e1gina", "search.result.none": "Nenhum resultado encontrado", "search.result.one": "1 resultado encontrado", "search.result.other": "# resultados encontrados", "search.result.placeholder": "Digite para iniciar a busca", "search.result.term.missing": "Ausente", "select.version.title": "Selecione a vers\u00e3o"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js"></script>
      
        <script src="../../../assets/static/js/tablesort.js"></script>
      
    
    
  </body>
</html>